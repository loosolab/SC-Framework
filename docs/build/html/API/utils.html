<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Utils &mdash; SC FRAMEWORK  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Plotting" href="plotting.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            SC FRAMEWORK
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../CHANGES.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rna-notebooks/index.html">RNA notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../atac-notebooks/index.html">ATAC notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general-notebooks/index.html">General notebooks</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">sctoolbox API reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tools.html">Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="plotting.html">Plotting</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Utils</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-sctoolbox.utils.creators">creators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.creators.gitlab_download"><code class="docutils literal notranslate"><span class="pre">gitlab_download()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.creators.setup_experiment"><code class="docutils literal notranslate"><span class="pre">setup_experiment()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.creators.add_analysis"><code class="docutils literal notranslate"><span class="pre">add_analysis()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.creators.build_notebooks_regex"><code class="docutils literal notranslate"><span class="pre">build_notebooks_regex()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sctoolbox.utils.checker">checker</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.checker.check_module"><code class="docutils literal notranslate"><span class="pre">check_module()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.checker.gunzip_file"><code class="docutils literal notranslate"><span class="pre">gunzip_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.checker.is_str_numeric"><code class="docutils literal notranslate"><span class="pre">is_str_numeric()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.checker.var_index_from"><code class="docutils literal notranslate"><span class="pre">var_index_from()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.checker.get_index_type"><code class="docutils literal notranslate"><span class="pre">get_index_type()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.checker.validate_regions"><code class="docutils literal notranslate"><span class="pre">validate_regions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.checker.format_adata_var"><code class="docutils literal notranslate"><span class="pre">format_adata_var()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.checker.in_range"><code class="docutils literal notranslate"><span class="pre">in_range()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.checker.is_integer_array"><code class="docutils literal notranslate"><span class="pre">is_integer_array()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.checker.check_columns"><code class="docutils literal notranslate"><span class="pre">check_columns()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.checker.check_file_ending"><code class="docutils literal notranslate"><span class="pre">check_file_ending()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.checker.is_regex"><code class="docutils literal notranslate"><span class="pre">is_regex()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.checker.check_marker_lists"><code class="docutils literal notranslate"><span class="pre">check_marker_lists()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.checker.check_type"><code class="docutils literal notranslate"><span class="pre">check_type()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sctoolbox.utils.bioutils">bioutils</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.bioutils.pseudobulk_table"><code class="docutils literal notranslate"><span class="pre">pseudobulk_table()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.bioutils.barcode_index"><code class="docutils literal notranslate"><span class="pre">barcode_index()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.bioutils.get_organism"><code class="docutils literal notranslate"><span class="pre">get_organism()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.bioutils.gene_id_to_name"><code class="docutils literal notranslate"><span class="pre">gene_id_to_name()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.bioutils.convert_id"><code class="docutils literal notranslate"><span class="pre">convert_id()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.bioutils.unify_genes_column"><code class="docutils literal notranslate"><span class="pre">unify_genes_column()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sctoolbox.utils.decorator">decorator</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.decorator.log_anndata"><code class="docutils literal notranslate"><span class="pre">log_anndata()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.decorator.get_parameter_table"><code class="docutils literal notranslate"><span class="pre">get_parameter_table()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.decorator.debug_func_log"><code class="docutils literal notranslate"><span class="pre">debug_func_log()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sctoolbox.utils.multiprocessing">multiprocessing</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.multiprocessing.get_pbar"><code class="docutils literal notranslate"><span class="pre">get_pbar()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.multiprocessing.monitor_jobs"><code class="docutils literal notranslate"><span class="pre">monitor_jobs()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sctoolbox.utils.jupyter">jupyter</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.jupyter.clear"><code class="docutils literal notranslate"><span class="pre">clear()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sctoolbox.utils.tables">tables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.tables.rename_categories"><code class="docutils literal notranslate"><span class="pre">rename_categories()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.tables.fill_na"><code class="docutils literal notranslate"><span class="pre">fill_na()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.tables.write_excel"><code class="docutils literal notranslate"><span class="pre">write_excel()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.tables.table_zscore"><code class="docutils literal notranslate"><span class="pre">table_zscore()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sctoolbox.utils.adata">adata</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.adata.get_adata_subsets"><code class="docutils literal notranslate"><span class="pre">get_adata_subsets()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.adata.add_expr_to_obs"><code class="docutils literal notranslate"><span class="pre">add_expr_to_obs()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.adata.shuffle_cells"><code class="docutils literal notranslate"><span class="pre">shuffle_cells()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.adata.get_minimal_adata"><code class="docutils literal notranslate"><span class="pre">get_minimal_adata()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.adata.load_h5ad"><code class="docutils literal notranslate"><span class="pre">load_h5ad()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.adata.save_h5ad"><code class="docutils literal notranslate"><span class="pre">save_h5ad()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.adata.add_uns_info"><code class="docutils literal notranslate"><span class="pre">add_uns_info()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.adata.get_cell_values"><code class="docutils literal notranslate"><span class="pre">get_cell_values()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.adata.prepare_for_cellxgene"><code class="docutils literal notranslate"><span class="pre">prepare_for_cellxgene()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sctoolbox.utils.assemblers">assemblers</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.assemblers.prepare_atac_anndata"><code class="docutils literal notranslate"><span class="pre">prepare_atac_anndata()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.assemblers.from_single_starsolo"><code class="docutils literal notranslate"><span class="pre">from_single_starsolo()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.assemblers.from_quant"><code class="docutils literal notranslate"><span class="pre">from_quant()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.assemblers.from_single_mtx"><code class="docutils literal notranslate"><span class="pre">from_single_mtx()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.assemblers.from_mtx"><code class="docutils literal notranslate"><span class="pre">from_mtx()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.assemblers.convertToAdata"><code class="docutils literal notranslate"><span class="pre">convertToAdata()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sctoolbox.utils.general">general</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.general.get_user"><code class="docutils literal notranslate"><span class="pre">get_user()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.general.get_datetime"><code class="docutils literal notranslate"><span class="pre">get_datetime()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.general.get_package_versions"><code class="docutils literal notranslate"><span class="pre">get_package_versions()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.general.get_binary_path"><code class="docutils literal notranslate"><span class="pre">get_binary_path()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.general.run_cmd"><code class="docutils literal notranslate"><span class="pre">run_cmd()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.general.setup_R"><code class="docutils literal notranslate"><span class="pre">setup_R()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.general.split_list"><code class="docutils literal notranslate"><span class="pre">split_list()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.general.split_list_size"><code class="docutils literal notranslate"><span class="pre">split_list_size()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.general.write_list_file"><code class="docutils literal notranslate"><span class="pre">write_list_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.general.read_list_file"><code class="docutils literal notranslate"><span class="pre">read_list_file()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.general.clean_flanking_strings"><code class="docutils literal notranslate"><span class="pre">clean_flanking_strings()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.general.longest_common_suffix"><code class="docutils literal notranslate"><span class="pre">longest_common_suffix()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.general.remove_prefix"><code class="docutils literal notranslate"><span class="pre">remove_prefix()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.general.remove_suffix"><code class="docutils literal notranslate"><span class="pre">remove_suffix()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.general.sanitize_string"><code class="docutils literal notranslate"><span class="pre">sanitize_string()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.general.identify_columns"><code class="docutils literal notranslate"><span class="pre">identify_columns()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.general.scale_values"><code class="docutils literal notranslate"><span class="pre">scale_values()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-sctoolbox.utils.io">io</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.io.create_dir"><code class="docutils literal notranslate"><span class="pre">create_dir()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.io.get_temporary_filename"><code class="docutils literal notranslate"><span class="pre">get_temporary_filename()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.io.remove_files"><code class="docutils literal notranslate"><span class="pre">remove_files()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#sctoolbox.utils.io.rm_tmp"><code class="docutils literal notranslate"><span class="pre">rm_tmp()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SC FRAMEWORK</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">sctoolbox API reference</a></li>
      <li class="breadcrumb-item active">Utils</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/API/utils.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="utils">
<h1>Utils<a class="headerlink" href="#utils" title="Link to this heading"></a></h1>
<p class="rubric">Setup</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sctoolbox.utilities</span> <span class="k">as</span> <span class="nn">utils</span>
</pre></div>
</div>
<hr class="docutils" />
<section id="module-sctoolbox.utils.creators">
<span id="creators"></span><h2>creators<a class="headerlink" href="#module-sctoolbox.utils.creators" title="Link to this heading"></a></h2>
<p>Modules for creating files or directories.</p>
<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.creators.gitlab_download">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.creators.</span></span><span class="sig-name descname"><span class="pre">gitlab_download</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">internal_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_regex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'https://gitlab.gwdg.de/'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">repo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'sc_framework'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">branch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'main'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">commit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'./'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">private</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">load_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'/root/.gitlab_token'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_token</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'/root/.gitlab_token'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overwrite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_calls</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">period</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">60</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/creators.html#gitlab_download"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.creators.gitlab_download" title="Link to this definition"></a></dt>
<dd><p>Download file(s) from gitlab.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>internal_path</strong> (<em>str</em>) – path to directory in repository</p></li>
<li><p><strong>file_regex</strong> (<em>str</em>) – regex for target file(s)</p></li>
<li><p><strong>host</strong> (str, default ‘<a class="reference external" href="https://gitlab.gwdg.de/">https://gitlab.gwdg.de/</a>’) – Link to host</p></li>
<li><p><strong>repo</strong> (<em>str</em><em>, </em><em>default 'sc_framework'</em>) – Name of the repository</p></li>
<li><p><strong>branch</strong> (<em>str</em><em>, </em><em>default 'main'</em>) – What branch to use</p></li>
<li><p><strong>commit</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default None</em>) – What commit to use, overwrites branch</p></li>
<li><p><strong>out_path</strong> (<em>str</em><em>, </em><em>default './'</em>) – Where the fike/dir should be downloaded to</p></li>
<li><p><strong>private</strong> (<em>bool</em><em>, </em><em>default False</em>) – Set true if repo is private</p></li>
<li><p><strong>load_token</strong> (<em>str</em><em>, </em><em>default 'pathlib.Path.home</em><em>(</em><em>) </em><em>/ &quot;.gitlab_token&quot;'</em>) – Load token from file. Set to None for new token</p></li>
<li><p><strong>save_token</strong> (<em>str</em><em>, </em><em>default 'pathlib.Path.home</em><em>(</em><em>) </em><em>/ &quot;.gitlab_token&quot;'</em>) – Save token to file</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em><em>, </em><em>default False</em>) – Overwrite file if it exsits in the directory</p></li>
<li><p><strong>max_calls</strong> (<em>int</em><em>, </em><em>default 5</em>) – limit file download rate per period</p></li>
<li><p><strong>period</strong> (<em>int</em><em>, </em><em>default 60</em>) – period length in seconds</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If repository is inaccesible.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.creators.setup_experiment">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.creators.</span></span><span class="sig-name descname"><span class="pre">setup_experiment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dest</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">['raw',</span> <span class="pre">'preprocessing',</span> <span class="pre">'Analysis']</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/creators.html#setup_experiment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.creators.setup_experiment" title="Link to this definition"></a></dt>
<dd><p>Create initial folder structure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dest</strong> (<em>str</em>) – Path to new experiment</p></li>
<li><p><strong>dirs</strong> (<em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default</em><em> [</em><em>'raw'</em><em>, </em><em>'preprocessing'</em><em>, </em><em>'Analysis'</em><em>]</em>) – Internal folders to create</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – If directory exists.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.creators.add_analysis">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.creators.</span></span><span class="sig-name descname"><span class="pre">add_analysis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dest</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analysis_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'rna'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'atac'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'rna'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">['figures',</span> <span class="pre">'data',</span> <span class="pre">'logs']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starts_with</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/creators.html#add_analysis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.creators.add_analysis" title="Link to this definition"></a></dt>
<dd><p>Create and add a new analysis/run.</p>
<p>Note: Only works for Notebooks until number 99.
Needs to be adjusted if we exceed 89 notebooks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dest</strong> (<em>str</em>) – Path to experiment.</p></li>
<li><p><strong>analysis_name</strong> (<em>str</em>) – Name of the new analysis run.</p></li>
<li><p><strong>method</strong> (<em>Literal</em><em>[</em><em>&quot;rna&quot;</em><em>, </em><em>&quot;atac&quot;</em><em>]</em><em>, </em><em>default &quot;rna&quot;</em>) – Type of notebooks to download.</p></li>
<li><p><strong>dirs</strong> (<em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default</em><em> [</em><em>'figures'</em><em>, </em><em>'data'</em><em>, </em><em>'logs'</em><em>]</em>) – Internal folders to create besides ‘notebooks’ directory.</p></li>
<li><p><strong>starts_with</strong> (<em>int</em><em>, </em><em>default 1</em>) – Notebook the analysis will start with.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) – Forwarded to <cite>gitlab_download</cite>.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>FileNotFoundError</strong> – If path to experiment does not exist.</p></li>
<li><p><strong>ValueError</strong> – If <cite>method</cite> is invalid.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.creators.build_notebooks_regex">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.creators.</span></span><span class="sig-name descname"><span class="pre">build_notebooks_regex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">starts_with</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/creators.html#build_notebooks_regex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.creators.build_notebooks_regex" title="Link to this definition"></a></dt>
<dd><p>Build regex for notebooks starting with given number.</p>
<p>Note: Only works up to 89. If we reach notebook 90 this function needs to be adjusted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>starts_with</strong> (<em>int</em>) – Starting number</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>notebook regex</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If <cite>starts_with</cite> is &lt; 1 or &gt; 89.</p>
</dd>
</dl>
</dd></dl>

</section>
<hr class="docutils" />
<section id="module-sctoolbox.utils.checker">
<span id="checker"></span><h2>checker<a class="headerlink" href="#module-sctoolbox.utils.checker" title="Link to this heading"></a></h2>
<p>Module for type checking functions.</p>
<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.checker.check_module">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.checker.</span></span><span class="sig-name descname"><span class="pre">check_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/checker.html#check_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.checker.check_module" title="Link to this definition"></a></dt>
<dd><p>Check if &lt;module&gt; can be imported without error.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>module</strong> (<em>str</em>) – Name of the module to check.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ImportError</strong> – If the module is not available for import.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.checker.gunzip_file">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.checker.</span></span><span class="sig-name descname"><span class="pre">gunzip_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f_in</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f_out</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/checker.html#gunzip_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.checker.gunzip_file" title="Link to this definition"></a></dt>
<dd><p>Decompress file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f_in</strong> (<em>str</em>) – Path to compressed input file.</p></li>
<li><p><strong>f_out</strong> (<em>str</em>) – Destination to decompressed output file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.checker.is_str_numeric">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.checker.</span></span><span class="sig-name descname"><span class="pre">is_str_numeric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ans</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/checker.html#is_str_numeric"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.checker.is_str_numeric" title="Link to this definition"></a></dt>
<dd><p>Check if string can be converted to number.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ans</strong> (<em>str</em>) – String to check.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if string can be converted to float.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.checker.var_index_from">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.checker.</span></span><span class="sig-name descname"><span class="pre">var_index_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnnData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/checker.html#var_index_from"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.checker.var_index_from" title="Link to this definition"></a></dt>
<dd><p>Format adata.var index from specified column or from the index available.</p>
<p>This formats the index of adata.var according to the pattern [“chr”, “start”, “stop”].
The adata is changed inplace.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>adata</strong> (<em>sc.AnnData</em>) – The anndata object to reformat.</p></li>
<li><p><strong>from_column</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default None</em>) – Column name in adata.var to be set as index.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.checker.get_index_type">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.checker.</span></span><span class="sig-name descname"><span class="pre">get_index_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/checker.html#get_index_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.checker.get_index_type" title="Link to this definition"></a></dt>
<dd><p>Check the format of the index by regex.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>entry</strong> (<em>str</em>) – String to identify the format on.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The index format. Either ‘snapatac’, ‘start_name’ or None for unknown format.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.checker.validate_regions">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.checker.</span></span><span class="sig-name descname"><span class="pre">validate_regions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnnData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinate_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/checker.html#validate_regions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.checker.validate_regions" title="Link to this definition"></a></dt>
<dd><p>Check if the regions in adata.var are valid.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>adata</strong> (<em>sc.AnnData</em>) – AnnData object containing the regions to be checked.</p></li>
<li><p><strong>coordinate_columns</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) – List of length 3 for column names in adata.var containing chr, start, end coordinates.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If invalid regions are detected.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.checker.format_adata_var">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.checker.</span></span><span class="sig-name descname"><span class="pre">format_adata_var</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnnData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinate_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns_added</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">['chr',</span> <span class="pre">'start',</span> <span class="pre">'end']</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/checker.html#format_adata_var"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.checker.format_adata_var" title="Link to this definition"></a></dt>
<dd><p>Format the index of adata.var and adds peak_chr, peak_start, peak_end columns to adata.var if needed.</p>
<p>If coordinate_columns are given, the function will check if these columns already contain the information needed. If the coordinate_columns are in the correct format, nothing will be done.
If the coordinate_columns are invalid (or coordinate_columns is not given) the index is checked for the following format:
“<a href="#id1"><span class="problematic" id="id2">*</span></a>[_:-]start[_:-]stop”</p>
<p>If the index can be formatted, the formatted columns (columns_added) will be added.
If the index cannot be formatted, an error will be raised.</p>
<p>NOTE: adata object is changed inplace.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>adata</strong> (<em>sc.AnnData</em>) – The anndata object containing features to annotate.</p></li>
<li><p><strong>coordinate_columns</strong> (<em>Optional</em><em>[</em><em>Iterable</em><em>[</em><em>str</em><em>]</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>default None</em>) – List of length 3 for column names in adata.var containing chr, start, end coordinates to check.
If None, the index will be formatted.</p></li>
<li><p><strong>columns_added</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default</em><em> [</em><em>'chr'</em><em>, </em><em>'start'</em><em>, </em><em>'end'</em><em>]</em>) – List of length 3 for column names in adata.var containing chr, start, end coordinates to add.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>KeyError</strong> – If <cite>coordinate_columns</cite> are not available.</p></li>
<li><p><strong>ValueError</strong> – If regions are of incorrect format.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.checker.in_range">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.checker.</span></span><span class="sig-name descname"><span class="pre">in_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_limits</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/checker.html#in_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.checker.in_range" title="Link to this definition"></a></dt>
<dd><p>Check if a value is in a given range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>value</strong> (<em>int</em><em> | </em><em>float</em>) – Number to check if in range.</p></li>
<li><p><strong>limits</strong> (<em>Tuple</em><em>[</em><em>int</em><em> | </em><em>float</em><em>, </em><em>int</em><em> | </em><em>float</em><em>]</em>) – Lower and upper limits. E.g. (0, 10)</p></li>
<li><p><strong>include_limits</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True includes limits in accepted range.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns whether the value is between the set limits.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">limit</span> <span class="o">=</span> <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">value</span> <span class="o">=</span> <span class="mf">0.5</span>
<span class="nb">print</span><span class="p">(</span><span class="n">utils</span><span class="o">.</span><span class="n">in_range</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">value</span><span class="p">,</span> <span class="n">limits</span><span class="o">=</span><span class="n">limit</span><span class="p">,</span> <span class="n">include_limits</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
<p>This will return ‘True’; the value is in between the limits including the limits.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.checker.is_integer_array">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.checker.</span></span><span class="sig-name descname"><span class="pre">is_integer_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">_NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">_SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">complex</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">_NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">complex</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/checker.html#is_integer_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.checker.is_integer_array" title="Link to this definition"></a></dt>
<dd><p>Check if all values of arr are integers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>arr</strong> (<em>npt.ArrayLike</em>) – Array of values to be checked.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if all values are integers, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.checker.check_columns">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.checker.</span></span><span class="sig-name descname"><span class="pre">check_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'dataframe'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/checker.html#check_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.checker.check_columns" title="Link to this definition"></a></dt>
<dd><p>Check whether columns are found within a pandas dataframe.</p>
<p>TODO do we need this?</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – A pandas dataframe to check.</p></li>
<li><p><strong>columns</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) – A list of column names to check for within <cite>df</cite>.</p></li>
<li><p><strong>error</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True raise errror if not all columns are found.
If False return true or false</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>default dataframe</em>) – Dataframe name displayed in the error message.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True or False depending on if columns are in dataframe
None if error is set to True</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[bool]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>KeyError</strong> – If any of the columns are not in ‘df’ and error is set to True.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.checker.check_file_ending">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.checker.</span></span><span class="sig-name descname"><span class="pre">check_file_ending</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'gtf'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/checker.html#check_file_ending"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.checker.check_file_ending" title="Link to this definition"></a></dt>
<dd><p>Check if a file has a certain file ending.</p>
<p>TODO do we need this?</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>str</em>) – Path to the file.</p></li>
<li><p><strong>pattern</strong> (<em>str</em><em>, </em><em>default 'gtf'</em>) – File ending to be checked for.
If regex, the regex must match the entire string.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If file does not have the expected file ending.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.checker.is_regex">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.checker.</span></span><span class="sig-name descname"><span class="pre">is_regex</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/checker.html#is_regex"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.checker.is_regex" title="Link to this definition"></a></dt>
<dd><p>Check if a string is a valid regex.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>regex</strong> (<em>str</em>) – String to be checked.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if string is a valid regex, False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.checker.check_marker_lists">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.checker.</span></span><span class="sig-name descname"><span class="pre">check_marker_lists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnnData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/checker.html#check_marker_lists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.checker.check_marker_lists" title="Link to this definition"></a></dt>
<dd><p>Remove genes in custom marker genes lists which are not present in dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>adata</strong> (<em>sc.AnnData</em>) – The anndata object containing features to annotate.</p></li>
<li><p><strong>marker_dict</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>list</em><em>[</em><em>str</em><em>]</em><em>]</em>) – A dictionary containing a list of marker genes as values and corresponding cell types as keys.
The marker genes given in the lists need to match the index of adata.var.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary containing a list of marker genes as values and corresponding cell types as keys.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, list[str]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.checker.check_type">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.checker.</span></span><span class="sig-name descname"><span class="pre">check_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/sctoolbox/utils/checker.html#check_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.checker.check_type" title="Link to this definition"></a></dt>
<dd><p>Check type of given object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>Any</em>) – Object for which the type should be checked</p></li>
<li><p><strong>obj_name</strong> (<em>str</em>) – Object name that would be shown in the error message.</p></li>
<li><p><strong>test_type</strong> (<em>Any</em>) – Type that obj is tested for.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>TypeError</strong> – If object type does not match test type.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This function is mostly replaced by beartype.
Only used for types not supported by beartype.</p>
</dd></dl>

</section>
<hr class="docutils" />
<section id="module-sctoolbox.utils.bioutils">
<span id="bioutils"></span><h2>bioutils<a class="headerlink" href="#module-sctoolbox.utils.bioutils" title="Link to this heading"></a></h2>
<p>Bio related utility functions.</p>
<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.bioutils.pseudobulk_table">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.bioutils.</span></span><span class="sig-name descname"><span class="pre">pseudobulk_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnnData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groupby</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">how</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'mean'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'sum'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentile_range</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(0,</span> <span class="pre">100)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunk_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1000</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/bioutils.html#pseudobulk_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.bioutils.pseudobulk_table" title="Link to this definition"></a></dt>
<dd><p>Get a pseudobulk table of values per cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>adata</strong> (<em>sc.AnnData</em>) – Anndata object with counts in .X.</p></li>
<li><p><strong>groupby</strong> (<em>str</em>) – Column name in adata.obs from which the pseudobulks are created.</p></li>
<li><p><strong>how</strong> (<em>Literal</em><em>[</em><em>'mean'</em><em>, </em><em>'sum'</em><em>]</em><em>, </em><em>default 'mean'</em>) – How to calculate the value per group (psuedobulk).</p></li>
<li><p><strong>layer</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default None</em>) – Name of an anndata layer to use instead of <cite>adata.X</cite>.</p></li>
<li><p><strong>percentile_range</strong> (<em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em>]</em><em>, </em><em>default</em><em> (</em><em>0</em><em>, </em><em>100</em><em>)</em>) – The percentile of cells used to calculate the mean/sum for each feature.
Is used to limit the effect of individual cell outliers, e.g. by setting (0, 95) to exclude high values in the calculation.</p></li>
<li><p><strong>chunk_size</strong> (<em>int</em><em>, </em><em>default 1000</em>) – If percentile_range is not default, chunk_size controls the number of features to process at once. This is used to avoid memory issues.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame with aggregated counts (adata.X). With groups as columns and genes as rows.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.bioutils.barcode_index">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.bioutils.</span></span><span class="sig-name descname"><span class="pre">barcode_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnnData</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/bioutils.html#barcode_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.bioutils.barcode_index" title="Link to this definition"></a></dt>
<dd><p>Check if the barcode is the index.</p>
<p>Will replace the index with <cite>adata.obs[“barcode”]</cite> if index does not contain barcodes.</p>
<p>TODO refactor
- name could be more descriptive
- return adata
- inplace parameter
- use logger
…</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>adata</strong> (<em>sc.AnnData</em>) – Anndata to perform check on.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.bioutils.get_organism">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.bioutils.</span></span><span class="sig-name descname"><span class="pre">get_organism</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ensembl_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'http://www.ensembl.org/id/'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/bioutils.html#get_organism"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.bioutils.get_organism" title="Link to this definition"></a></dt>
<dd><p>Get the organism name to the given Ensembl ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ensembl_id</strong> (<em>str</em>) – Any Ensembl ID. E.g. ENSG00000164690</p></li>
<li><p><strong>host</strong> (<em>str</em>) – Ensembl server address.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Organism assigned to the Ensembl ID</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ConnectionError</strong> – If there is an unexpected (or no) response from the server.</p></li>
<li><p><strong>ValueError</strong> – If the returned organism is ambiguous.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.bioutils.gene_id_to_name">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.bioutils.</span></span><span class="sig-name descname"><span class="pre">gene_id_to_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">species</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/bioutils.html#gene_id_to_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.bioutils.gene_id_to_name" title="Link to this definition"></a></dt>
<dd><p>Get Ensembl gene names to Ensembl gene id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ids</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – List of gene ids. Set to <cite>None</cite> to return all ids.</p></li>
<li><p><strong>species</strong> (<em>str</em>) – Species matching the gene ids. Set to <cite>None</cite> for list of available species.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame with gene ids and matching gene names.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If provided Ensembl IDs or organism is invalid.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.bioutils.convert_id">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.bioutils.</span></span><span class="sig-name descname"><span class="pre">convert_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnnData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_col_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Gene</span> <span class="pre">name'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">species</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AnnData</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/bioutils.html#convert_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.bioutils.convert_id" title="Link to this definition"></a></dt>
<dd><p>Add gene names to adata.var.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>adata</strong> (<em>sc.AnnData</em>) – AnnData with gene ids.</p></li>
<li><p><strong>id_col_name</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default None</em>) – Name of the column in <cite>adata.var</cite> that stores the gene ids.</p></li>
<li><p><strong>index</strong> (<em>boolean</em><em>, </em><em>default False</em>) – Use index of <cite>adata.var</cite> instead of column name speciefied in <cite>id_col_name</cite>.</p></li>
<li><p><strong>name_col</strong> (<em>str</em><em>, </em><em>default &quot;Gene name&quot;</em>) – Name of the column added to <cite>adata.var</cite>.</p></li>
<li><p><strong>species</strong> (<em>str</em><em>, </em><em>default &quot;auto&quot;</em>) – Species of the dataset. On default, species is inferred based on gene ids.</p></li>
<li><p><strong>inplace</strong> (<em>bool</em><em>, </em><em>default True</em>) – Whether to modify adata inplace.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>AnnData object with gene names.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[sc.AnnData]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If invalid parameter choice or column name not found in adata.var.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.bioutils.unify_genes_column">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.bioutils.</span></span><span class="sig-name descname"><span class="pre">unify_genes_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnnData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unified_column</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'unified_names'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">species</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AnnData</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/bioutils.html#unify_genes_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.bioutils.unify_genes_column" title="Link to this definition"></a></dt>
<dd><p>Given an adata.var column with mixed Ensembl IDs and Ensembl names, this function creates a new column where Ensembl IDs are replaced with their respective Ensembl names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>adata</strong> (<em>sc.AnnData</em>) – AnnData object</p></li>
<li><p><strong>column</strong> (<em>str</em>) – Column name in adata.var</p></li>
<li><p><strong>unified_column</strong> (<em>str</em><em>, </em><em>default &quot;unified_names&quot;</em>) – Defines the column in which unified gene names are saved. Set same as parameter ‘column’ to overwrite original column.</p></li>
<li><p><strong>species</strong> (<em>str</em><em>, </em><em>default &quot;auto&quot;</em>) – Species of the dataset. On default, species is inferred based on gene ids.</p></li>
<li><p><strong>inplace</strong> (<em>bool</em><em>, </em><em>default True</em>) – Whether to modify adata or return a copy.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>AnnData object with modified gene column.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[sc.AnnData]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If column name is not found in <cite>adata.var</cite> or no Ensembl IDs in selected column.</p>
</dd>
</dl>
</dd></dl>

</section>
<hr class="docutils" />
<section id="module-sctoolbox.utils.decorator">
<span id="decorator"></span><h2>decorator<a class="headerlink" href="#module-sctoolbox.utils.decorator" title="Link to this heading"></a></h2>
<p>Decorators and related functions.</p>
<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.decorator.log_anndata">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.decorator.</span></span><span class="sig-name descname"><span class="pre">log_anndata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/decorator.html#log_anndata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.decorator.log_anndata" title="Link to this definition"></a></dt>
<dd><p>Decorate function to log adata inside function call.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>func</strong> (<em>Callable</em>) – Function to decorate.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Decorated function</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Callable</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.decorator.get_parameter_table">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.decorator.</span></span><span class="sig-name descname"><span class="pre">get_parameter_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnnData</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/decorator.html#get_parameter_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.decorator.get_parameter_table" title="Link to this definition"></a></dt>
<dd><p>Get a table of all function calls with their parameters from the adata.uns[“sctoolbox”] dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>adata</strong> (<em>sc.AnnData</em>) – Annotated data matrix with logged function calls.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Table with all function calls and their parameters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If no logs are found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.decorator.debug_func_log">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.decorator.</span></span><span class="sig-name descname"><span class="pre">debug_func_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/decorator.html#debug_func_log"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.decorator.debug_func_log" title="Link to this definition"></a></dt>
<dd><p>Decorate function to print function call with arguments and keyword arguments.</p>
<p>In progress.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>func</strong> (<em>Callable</em>) – Function to decorate.</p>
</dd>
</dl>
</dd></dl>

</section>
<hr class="docutils" />
<section id="module-sctoolbox.utils.multiprocessing">
<span id="multiprocessing"></span><h2>multiprocessing<a class="headerlink" href="#module-sctoolbox.utils.multiprocessing" title="Link to this heading"></a></h2>
<p>Functions related to multiprocessing.</p>
<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.multiprocessing.get_pbar">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.multiprocessing.</span></span><span class="sig-name descname"><span class="pre">get_pbar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">total</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tqdm.tqdm</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/multiprocessing.html#get_pbar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.multiprocessing.get_pbar" title="Link to this definition"></a></dt>
<dd><p>Get a progress bar depending on whether the user is using a notebook or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>total</strong> (<em>int</em>) – Total number elements to be shown in the progress bar.</p></li>
<li><p><strong>description</strong> (<em>str</em>) – Description to be shown in the progress bar.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) – Keyword arguments to be passed to tqdm.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A progress bar object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tqdm.tqdm</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.multiprocessing.monitor_jobs">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.multiprocessing.</span></span><span class="sig-name descname"><span class="pre">monitor_jobs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">jobs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'Progress'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/multiprocessing.html#monitor_jobs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.multiprocessing.monitor_jobs" title="Link to this definition"></a></dt>
<dd><p>Monitor the status of jobs submitted to a pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jobs</strong> (<em>dict</em><em>[</em><em>Tuple</em><em>[</em><em>int</em><em>, </em><em>int</em><em> | </em><em>str</em><em>]</em><em>, </em><em>Any</em><em>] </em><em>| </em><em>list</em><em>[</em><em>Any</em><em>]</em>) – List or dict of job objects, e.g. as returned by pool.map_async().</p></li>
<li><p><strong>description</strong> (<em>str</em><em>, </em><em>default &quot;Progress&quot;</em>) – Description to be shown in the progress bar.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<hr class="docutils" />
<section id="module-sctoolbox.utils.jupyter">
<span id="jupyter"></span><h2>jupyter<a class="headerlink" href="#module-sctoolbox.utils.jupyter" title="Link to this heading"></a></h2>
<p>Jupyter notebook related functions.</p>
<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.jupyter.clear">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.jupyter.</span></span><span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/jupyter.html#clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.jupyter.clear" title="Link to this definition"></a></dt>
<dd><p>Clear stout of console or jupyter notebook.</p>
<p><a class="reference external" href="https://stackoverflow.com/questions/37071230/clear-overwrite-standard-output-in-python">https://stackoverflow.com/questions/37071230/clear-overwrite-standard-output-in-python</a></p>
</dd></dl>

</section>
<hr class="docutils" />
<section id="module-sctoolbox.utils.tables">
<span id="tables"></span><h2>tables<a class="headerlink" href="#module-sctoolbox.utils.tables" title="Link to this heading"></a></h2>
<p>Table related functions.</p>
<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.tables.rename_categories">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.tables.</span></span><span class="sig-name descname"><span class="pre">rename_categories</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Series</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Series</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/tables.html#rename_categories"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.tables.rename_categories" title="Link to this definition"></a></dt>
<dd><p>Rename categories in a pandas series to numbers between 1-(number of categories).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>series</strong> (<em>pd.Series</em>) – Pandas Series to rename categories in.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Series with renamed categories.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.tables.fill_na">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.tables.</span></span><span class="sig-name descname"><span class="pre">fill_na</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{'bool':</span> <span class="pre">False,</span> <span class="pre">'category':</span> <span class="pre">'',</span> <span class="pre">'float':</span> <span class="pre">0,</span> <span class="pre">'int':</span> <span class="pre">0,</span> <span class="pre">'str':</span> <span class="pre">'-'}</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/tables.html#fill_na"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.tables.fill_na" title="Link to this definition"></a></dt>
<dd><p>Fill all NA values in a pandas DataFrame depending on the column data type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – DataFrame object with NA values over multiple columns</p></li>
<li><p><strong>inplace</strong> (<em>boolean</em><em>, </em><em>default True</em>) – Whether the DataFrame object is modified inplace.</p></li>
<li><p><strong>replace</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em><em>, </em><em>default {&quot;bool&quot;: False</em><em>, </em><em>&quot;str&quot;: &quot;-&quot;</em><em>, </em><em>&quot;float&quot;: 0</em><em>, </em><em>&quot;int&quot;: 0</em><em>, </em><em>&quot;category&quot;: &quot;&quot;}</em>) – dict that contains default values to replace nas depedning on data type</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame with replaced NA values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[pd.DataFrame]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.tables.write_excel">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.tables.</span></span><span class="sig-name descname"><span class="pre">write_excel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/tables.html#write_excel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.tables.write_excel" title="Link to this definition"></a></dt>
<dd><p>Write a dictionary of tables to a single excel file with one table per sheet.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table_dict</strong> (<em>dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em>) – Dictionary of tables in the format {&lt;sheet_name1&gt;: table, &lt;sheet_name2&gt;: table, (…)}.</p></li>
<li><p><strong>filename</strong> (<em>str</em>) – Path to output file.</p></li>
<li><p><strong>index</strong> (<em>bool</em><em>, </em><em>default False</em>) – Whether to include the index of the tables in file.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) – Keyword arguments passed to pandas.DataFrame.to_excel.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – If <cite>table_dict</cite> contains items not of type DataFrame.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.tables.table_zscore">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.tables.</span></span><span class="sig-name descname"><span class="pre">table_zscore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">how</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'row'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'col'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'row'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/tables.html#table_zscore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.tables.table_zscore" title="Link to this definition"></a></dt>
<dd><p>Z-score a table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>table</strong> (<em>pd.DataFrame</em>) – Table to z-score.</p></li>
<li><p><strong>how</strong> (<em>{'row'</em><em>, </em><em>'col'}</em>) – Whether to z-score rows or columns.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Z-scored table.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – If <cite>how</cite> has invalid selection.</p>
</dd>
</dl>
</dd></dl>

</section>
<hr class="docutils" />
<section id="module-sctoolbox.utils.adata">
<span id="adata"></span><h2>adata<a class="headerlink" href="#module-sctoolbox.utils.adata" title="Link to this heading"></a></h2>
<p>anndata.AnnData related functions.</p>
<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.adata.get_adata_subsets">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.adata.</span></span><span class="sig-name descname"><span class="pre">get_adata_subsets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnnData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groupby</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">AnnData</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/adata.html#get_adata_subsets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.adata.get_adata_subsets" title="Link to this definition"></a></dt>
<dd><p>Split an anndata object into a dict of sub-anndata objects based on a grouping column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>adata</strong> (<em>sc.AnnData</em>) – Anndata object to split.</p></li>
<li><p><strong>groupby</strong> (<em>str</em>) – Column name in adata.obs to split by.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Dictionary of anndata objects in the format {&lt;group1&gt;: anndata, &lt;group2&gt;: anndata, (…)}.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, sc.AnnData]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If groupby is not found in <cite>adata.obs.columns</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.adata.add_expr_to_obs">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.adata.</span></span><span class="sig-name descname"><span class="pre">add_expr_to_obs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnnData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gene</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/adata.html#add_expr_to_obs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.adata.add_expr_to_obs" title="Link to this definition"></a></dt>
<dd><p>Add expression of a gene from adata.X to adata.obs as a new column.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>adata</strong> (<em>sc.AnnData</em>) – Anndata object to add expression to.</p></li>
<li><p><strong>gene</strong> (<em>str</em>) – Gene name to add expression of.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – If the gene is not found in the adata object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.adata.shuffle_cells">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.adata.</span></span><span class="sig-name descname"><span class="pre">shuffle_cells</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnnData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">42</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AnnData</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/adata.html#shuffle_cells"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.adata.shuffle_cells" title="Link to this definition"></a></dt>
<dd><p>Shuffle cells in an adata object to improve plotting.</p>
<p>Otherwise, cells might be hidden due plotting samples in order e.g. sample1, sample2, etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>adata</strong> (<em>sc.AnnData</em>) – Anndata object to shuffle cells in.</p></li>
<li><p><strong>seed</strong> (<em>int</em><em>, </em><em>default 42</em>) – Seed for random number generator.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Anndata object with shuffled cells.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>sc.AnnData</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.adata.get_minimal_adata">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.adata.</span></span><span class="sig-name descname"><span class="pre">get_minimal_adata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnnData</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AnnData</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/adata.html#get_minimal_adata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.adata.get_minimal_adata" title="Link to this definition"></a></dt>
<dd><p>Return a minimal copy of an anndata object e.g. for estimating UMAP in parallel.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>adata</strong> (<em>sc.AnnData</em>) – Annotated data matrix.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Minimal copy of anndata object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>sc.AnnData</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.adata.load_h5ad">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.adata.</span></span><span class="sig-name descname"><span class="pre">load_h5ad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AnnData</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/adata.html#load_h5ad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.adata.load_h5ad" title="Link to this definition"></a></dt>
<dd><p>Load an anndata object from .h5ad file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – Name of the file to load the anndata object. NOTE: Uses the internal ‘sctoolbox.settings.adata_input_dir’ + ‘sctoolbox.settings.adata_input_prefix’ as prefix.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Loaded anndata object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>sc.AnnData</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.adata.save_h5ad">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.adata.</span></span><span class="sig-name descname"><span class="pre">save_h5ad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnnData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/adata.html#save_h5ad"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.adata.save_h5ad" title="Link to this definition"></a></dt>
<dd><p>Save an anndata object to an .h5ad file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>adata</strong> (<em>sc.AnnData</em>) – Anndata object to save.</p></li>
<li><p><strong>path</strong> (<em>str</em>) – Name of the file to save the anndata object. NOTE: Uses the internal ‘sctoolbox.settings.adata_output_dir’ + ‘sctoolbox.settings.adata_output_prefix’ as prefix.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.adata.add_uns_info">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.adata.</span></span><span class="sig-name descname"><span class="pre">add_uns_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnnData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">how</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'overwrite'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/adata.html#add_uns_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.adata.add_uns_info" title="Link to this definition"></a></dt>
<dd><p>Add information to adata.uns[‘sctoolbox’].</p>
<p>This is used for logging the parameters and options of different steps in the analysis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>adata</strong> (<em>sc.AnnData</em>) – An AnnData object.</p></li>
<li><p><strong>key</strong> (<em>str</em><em> | </em><em>list</em><em>[</em><em>str</em><em>]</em>) – The key to add to adata.uns[‘sctoolbox’]. If the key is a list, it represents a path within a nested dictionary.</p></li>
<li><p><strong>value</strong> (<em>Any</em>) – The value to add to adata.uns[‘sctoolbox’].</p></li>
<li><p><strong>how</strong> (<em>str</em><em>, </em><em>default &quot;overwrite&quot;</em>) – When set to “overwrite” provided key will be overwriten. If “append” will add element to existing list or dict.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If value can not be appended.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.adata.get_cell_values">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.adata.</span></span><span class="sig-name descname"><span class="pre">get_cell_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnnData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/adata.html#get_cell_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.adata.get_cell_values" title="Link to this definition"></a></dt>
<dd><p>Get the values of a given element in adata.obs or adata.var per cell in adata. Can for example be used to extract gene expression values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>adata</strong> (<em>anndata.AnnData</em>) – Anndata object.</p></li>
<li><p><strong>element</strong> (<em>str</em>) – The element to extract from adata.obs or adata.var, e.g. a column in adata.obs or an index in adata.var.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array of values per cell in adata.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If element is not found in adata.obs or adata.var.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.adata.prepare_for_cellxgene">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.adata.</span></span><span class="sig-name descname"><span class="pre">prepare_for_cellxgene</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnnData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_obs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename_obs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rename_var</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">['pca',</span> <span class="pre">'umap',</span> <span class="pre">'tsne']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">palette</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AnnData</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/adata.html#prepare_for_cellxgene"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.adata.prepare_for_cellxgene" title="Link to this definition"></a></dt>
<dd><p>Prepare the given adata for cellxgene deployment.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>adata</strong> (<em>sc.Anndata</em>) – Anndata object.</p></li>
<li><p><strong>keep_obs</strong> (<em>Optional</em><em>[</em><em>list</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>default None</em>) – adata.obs columns that should be kept. None to keep all.</p></li>
<li><p><strong>keep_var</strong> (<em>Optional</em><em>[</em><em>list</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>default None</em>) – adata.var columns that should be kept. None to keep all.</p></li>
<li><p><strong>rename_obs</strong> (<em>Optional</em><em>[</em><em>dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em><em>]</em><em>, </em><em>default None</em>) – Dictionary of .obs columns to rename. Key is the old name, value the new one.</p></li>
<li><p><strong>rename_var</strong> (<em>Optional</em><em>[</em><em>dict</em><em>[</em><em>str</em><em>, </em><em>str</em><em>]</em><em>]</em><em>, </em><em>default None</em>) – Dictionary of .var columns to rename. Key is the old name, value the new one.</p></li>
<li><p><strong>embedding_names</strong> (<em>Optional</em><em>[</em><em>list</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>default</em><em> [</em><em>&quot;pca&quot;</em><em>, </em><em>&quot;umap&quot;</em><em>, </em><em>&quot;tsne&quot;</em><em>]</em>) – List of embeddings to check for. Will raise an error if none of the embeddings are found. Set None to disable check. Embeddings are stored in <cite>adata.obsm</cite>.</p></li>
<li><p><strong>cmap</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default None</em>) – Color map to use for continous variables.
Use this replacement color map for broken color maps.
If None will use scanpy default, which uses <cite>mpl.rcParams[“image.cmap”]</cite>. See <cite>sc.pl.embedding</cite>.</p></li>
<li><p><strong>palette</strong> (<em>Optional</em><em>[</em><em>str</em><em> | </em><em>Sequence</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>default None</em>) – Color map to use for categorical annotation groups.
Use this replacement color map for broken color maps.
If None will use scanpy default, which uses <cite>mpl.rcParams[“axes.prop_cycle”]</cite>. See <cite>sc.pl.embedding</cite>.</p></li>
<li><p><strong>inplace</strong> (<em>bool</em><em>, </em><em>default False</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If not at least one of the named embeddings are found in the adata.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Returns the deployment ready Anndata object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Optional[sc.AnnData]</p>
</dd>
</dl>
</dd></dl>

</section>
<hr class="docutils" />
<section id="module-sctoolbox.utils.assemblers">
<span id="assemblers"></span><h2>assemblers<a class="headerlink" href="#module-sctoolbox.utils.assemblers" title="Link to this heading"></a></h2>
<p>Module to assemble anndata objects.</p>
<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.assemblers.prepare_atac_anndata">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.assemblers.</span></span><span class="sig-name descname"><span class="pre">prepare_atac_anndata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">adata</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnnData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_from</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinate_cols</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">h5ad_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AnnData</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/assemblers.html#prepare_atac_anndata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.assemblers.prepare_atac_anndata" title="Link to this definition"></a></dt>
<dd><p>Prepare AnnData object of ATAC-seq data to be in the correct format for the subsequent pipeline.</p>
<p>This includes formatting the index, formatting the coordinate columns, and setting the barcode as the index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>adata</strong> (<em>sc.AnnData</em>) – The AnnData object to be prepared.</p></li>
<li><p><strong>set_index</strong> (<em>bool</em><em>, </em><em>default True</em>) – If True, index will be formatted and can be set by a given column.</p></li>
<li><p><strong>index_from</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default None</em>) – Column to build the index from.</p></li>
<li><p><strong>coordinate_cols</strong> (<em>Optional</em><em>[</em><em>list</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>default None</em>) – Location information of the peaks.</p></li>
<li><p><strong>h5ad_path</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default None</em>) – Path to the h5ad file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The prepared AnnData object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>sc.AnnData</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.assemblers.from_single_starsolo">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.assemblers.</span></span><span class="sig-name descname"><span class="pre">from_single_starsolo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'filtered'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'raw'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'filtered'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'infer'</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'infer'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AnnData</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/assemblers.html#from_single_starsolo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.assemblers.from_single_starsolo" title="Link to this definition"></a></dt>
<dd><p>Assembles an anndata object from the starsolo folder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – Path to the “solo” folder from starsolo.</p></li>
<li><p><strong>dtype</strong> (<em>Literal</em><em>[</em><em>'filtered'</em><em>, </em><em>'raw'</em><em>]</em><em>, </em><em>default &quot;filtered&quot;</em>) – The type of solo data to choose.</p></li>
<li><p><strong>header</strong> (<em>Union</em><em>[</em><em>int</em><em>, </em><em>list</em><em>[</em><em>int</em><em>]</em><em>, </em><em>Literal</em><em>[</em><em>'infer'</em><em>]</em><em>, </em><em>None</em><em>]</em><em>, </em><em>default &quot;infer&quot;</em>) – Set header parameter for reading metadata tables using pandas.read_csv.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An anndata object based on the provided starsolo folder.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>sc.AnnData</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – If path does not exist or files are missing.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.assemblers.from_quant">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.assemblers.</span></span><span class="sig-name descname"><span class="pre">from_quant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">configuration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_samples</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'raw'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'filtered'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'filtered'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AnnData</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/assemblers.html#from_quant"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.assemblers.from_quant" title="Link to this definition"></a></dt>
<dd><p>Assemble an adata object from data in the ‘quant’ folder of the snakemake pipeline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – The directory where the quant folder from snakemake preprocessing is located.</p></li>
<li><p><strong>configuration</strong> (<em>list</em>) – Configurations to setup the samples for anndata assembling.
It must containg the sample, the word used in snakemake to assign the condition,
and the condition, e.g., sample1:condition:room_air</p></li>
<li><p><strong>use_samples</strong> (<em>Optional</em><em>[</em><em>list</em><em>]</em><em>, </em><em>default None</em>) – List of samples to use. If None, all samples will be used.</p></li>
<li><p><strong>dtype</strong> (<em>Literal</em><em>[</em><em>&quot;raw&quot;</em><em>, </em><em>&quot;filtered&quot;</em><em>]</em><em>, </em><em>default 'filtered'</em>) – The type of Solo data to choose.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The assembled anndata object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>sc.AnnData</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If <cite>use_samples</cite> contains not existing names.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.assemblers.from_single_mtx">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.assemblers.</span></span><span class="sig-name descname"><span class="pre">from_single_mtx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mtx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">barcodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">genes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transpose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'infer'</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'infer'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">barcode_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">genes_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delimiter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'\t'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AnnData</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/assemblers.html#from_single_mtx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.assemblers.from_single_mtx" title="Link to this definition"></a></dt>
<dd><p>Build an adata object from single mtx and two tsv/csv files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mtx</strong> (<em>str</em>) – Path to the mtx file (.mtx)</p></li>
<li><p><strong>barcodes</strong> (<em>str</em>) – Path to cell label file (.obs)</p></li>
<li><p><strong>genes</strong> (<em>str</em>) – Path to gene label file (.var)</p></li>
<li><p><strong>transpose</strong> (<em>bool</em><em>, </em><em>default True</em>) – Set True to transpose mtx matrix.</p></li>
<li><p><strong>header</strong> (<em>Union</em><em>[</em><em>int</em><em>, </em><em>list</em><em>[</em><em>int</em><em>]</em><em>, </em><em>Literal</em><em>[</em><em>'infer'</em><em>]</em><em>, </em><em>None</em><em>]</em><em>, </em><em>default 'infer'</em>) – Set header parameter for reading metadata tables using pandas.read_csv.</p></li>
<li><p><strong>barcode_index</strong> (<em>int</em><em>, </em><em>default 0</em>) – Column which contains the cell barcodes.</p></li>
<li><p><strong>genes_index</strong> (<em>int</em><em>, </em><em>default 0</em>) – Column which contains the gene IDs.</p></li>
<li><p><strong>delimiter</strong> (<em>str</em><em>, </em><em>default 't'</em>) – delimiter of genes and barcodes table.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) – Contains additional arguments for scanpy.read_mtx method</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Anndata object containing the mtx matrix, gene and cell labels</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>sc.AnnData</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If barcode or gene files contain duplicates.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.assemblers.from_mtx">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.assemblers.</span></span><span class="sig-name descname"><span class="pre">from_mtx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mtx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'*_matrix.mtx*'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">barcodes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'*_barcodes.tsv*'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">genes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'*_genes.tsv*'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AnnData</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/assemblers.html#from_mtx"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.assemblers.from_mtx" title="Link to this definition"></a></dt>
<dd><p>Build an adata object from list of mtx, barcodes and genes files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – Path to data files</p></li>
<li><p><strong>mtx</strong> (str, default ‘<em>_matrix.mtx</em>’) – String for glob to find matrix files.</p></li>
<li><p><strong>barcodes</strong> (str, default ‘<em>_barcodes.tsv</em>’) – String for glob to find barcode files.</p></li>
<li><p><strong>genes</strong> (str, default ‘<em>_genes.tsv</em>’) – String for glob to find gene label files.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) – Contains additional arguments for scanpy.read_mtx method</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Merged anndata object containing the mtx matrix, gene and cell labels</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>sc.AnnData</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If files are not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.assemblers.convertToAdata">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.assemblers.</span></span><span class="sig-name descname"><span class="pre">convertToAdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r_home</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">AnnData</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/assemblers.html#convertToAdata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.assemblers.convertToAdata" title="Link to this definition"></a></dt>
<dd><p>Convert .rds files containing Seurat or SingleCellExperiment to scanpy anndata.</p>
<p>In order to work an R installation with Seurat &amp; SingleCellExperiment is required.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>str</em>) – Path to the .rds or .robj file.</p></li>
<li><p><strong>output</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default None</em>) – Path to output .h5ad file. Won’t save if None.</p></li>
<li><p><strong>r_home</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default None</em>) – Path to the R home directory. If None will construct path based on location of python executable.
E.g for “.conda/scanpy/bin/python” will look at “.conda/scanpy/lib/R”</p></li>
<li><p><strong>layer</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default None</em>) – Provide name of layer to be stored in anndata. By default the main layer is stored.
In case of multiome data multiple layers are present e.g. RNA and ATAC. But anndata can only store a single layer.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Returns converted anndata object if output is None.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[sc.AnnData]</p>
</dd>
</dl>
</dd></dl>

</section>
<hr class="docutils" />
<section id="module-sctoolbox.utils.general">
<span id="general"></span><h2>general<a class="headerlink" href="#module-sctoolbox.utils.general" title="Link to this heading"></a></h2>
<p>General utility functions.</p>
<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.general.get_user">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.general.</span></span><span class="sig-name descname"><span class="pre">get_user</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/general.html#get_user"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.general.get_user" title="Link to this definition"></a></dt>
<dd><p>Get the name of the current user.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The name of the current user.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.general.get_datetime">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.general.</span></span><span class="sig-name descname"><span class="pre">get_datetime</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/general.html#get_datetime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.general.get_datetime" title="Link to this definition"></a></dt>
<dd><p>Get a string with the current date and time for logging.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A string with the current date and time in the format dd/mm/YY H:M:S</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.general.get_package_versions">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.general.</span></span><span class="sig-name descname"><span class="pre">get_package_versions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/general.html#get_package_versions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.general.get_package_versions" title="Link to this definition"></a></dt>
<dd><p>Receive a dictionary of currently installed python packages and versions.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dict in the form:
<cite>{“package1”: “1.2.1”, “package2”:”4.0.1”, (…)}</cite></p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict[str, str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.general.get_binary_path">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.general.</span></span><span class="sig-name descname"><span class="pre">get_binary_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tool</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/general.html#get_binary_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.general.get_binary_path" title="Link to this definition"></a></dt>
<dd><p>Get path to a binary commandline tool.</p>
<p>Looks either in the local dir, on path or in the dir of the executing python binary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tool</strong> (<em>str</em>) – Name of the commandline tool to be found.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Full path to the tool.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If executable is not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.general.run_cmd">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.general.</span></span><span class="sig-name descname"><span class="pre">run_cmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/general.html#run_cmd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.general.run_cmd" title="Link to this definition"></a></dt>
<dd><p>Run a commandline command.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>cmd</strong> (<em>str</em>) – Command to be run.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>subprocess.CalledProcessError</strong> – If command has an error.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.general.setup_R">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.general.</span></span><span class="sig-name descname"><span class="pre">setup_R</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r_home</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/general.html#setup_R"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.general.setup_R" title="Link to this definition"></a></dt>
<dd><p>Add R installation for rpy2 use.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>r_home</strong> (<em>Optional</em><em>[</em><em>str</em><em>]</em><em>, </em><em>default None</em>) – Path to the R home directory. If None will construct path based on location of python executable.
E.g for “.conda/scanpy/bin/python” will look at “.conda/scanpy/lib/R”</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>Exception</strong> – If path to R is invalid.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.general.split_list">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.general.</span></span><span class="sig-name descname"><span class="pre">split_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lst</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/general.html#split_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.general.split_list" title="Link to this definition"></a></dt>
<dd><p>Split list into n chunks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lst</strong> (<em>Sequence</em><em>[</em><em>Any</em><em>]</em>) – Sequence to be chunked</p></li>
<li><p><strong>n</strong> (<em>int</em>) – Number of chunks.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of Sequences (chunks).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[Sequence[Any]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.general.split_list_size">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.general.</span></span><span class="sig-name descname"><span class="pre">split_list_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lst</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/general.html#split_list_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.general.split_list_size" title="Link to this definition"></a></dt>
<dd><p>Split list into chunks of max_size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lst</strong> (<em>list</em><em>[</em><em>Any</em><em>]</em>) – List to be chunked</p></li>
<li><p><strong>max_size</strong> (<em>int</em>) – Max size of chunks.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of lists (chunks).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[list[Any]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.general.write_list_file">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.general.</span></span><span class="sig-name descname"><span class="pre">write_list_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lst</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/general.html#write_list_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.general.write_list_file" title="Link to this definition"></a></dt>
<dd><p>Write a list to a file with one element per line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lst</strong> (<em>list</em><em>[</em><em>Any</em><em>]</em>) – A list of values/strings to write to file</p></li>
<li><p><strong>path</strong> (<em>str</em>) – Path to output file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.general.read_list_file">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.general.</span></span><span class="sig-name descname"><span class="pre">read_list_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/general.html#read_list_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.general.read_list_file" title="Link to this definition"></a></dt>
<dd><p>Read a list from a file with one element per line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – Path to read file from.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of strings read from file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.general.clean_flanking_strings">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.general.</span></span><span class="sig-name descname"><span class="pre">clean_flanking_strings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_of_strings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/general.html#clean_flanking_strings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.general.clean_flanking_strings" title="Link to this definition"></a></dt>
<dd><p>Remove common suffix and prefix from a list of strings.</p>
<p>E.g. running the function on [‘path/a.txt’, ‘path/b.txt’, ‘path/c.txt’] would yield [‘a’, ‘b’, ‘c’].</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>list_of_strings</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – List of strings.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of strings without common suffix and prefix</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.general.longest_common_suffix">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.general.</span></span><span class="sig-name descname"><span class="pre">longest_common_suffix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_of_strings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/general.html#longest_common_suffix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.general.longest_common_suffix" title="Link to this definition"></a></dt>
<dd><p>Find the longest common suffix of a list of strings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>list_of_strings</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – List of strings.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Longest common suffix of the list of strings.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.general.remove_prefix">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.general.</span></span><span class="sig-name descname"><span class="pre">remove_prefix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/general.html#remove_prefix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.general.remove_prefix" title="Link to this definition"></a></dt>
<dd><p>Remove prefix from a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>str</em>) – String to be processed.</p></li>
<li><p><strong>prefix</strong> (<em>str</em>) – Prefix to be removed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String without prefix.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.general.remove_suffix">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.general.</span></span><span class="sig-name descname"><span class="pre">remove_suffix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/general.html#remove_suffix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.general.remove_suffix" title="Link to this definition"></a></dt>
<dd><p>Remove suffix from a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>str</em>) – String to be processed.</p></li>
<li><p><strong>suffix</strong> (<em>str</em>) – Suffix to be removed.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>String without suffix.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.general.sanitize_string">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.general.</span></span><span class="sig-name descname"><span class="pre">sanitize_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">char_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'_'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/general.html#sanitize_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.general.sanitize_string" title="Link to this definition"></a></dt>
<dd><p>Replace every occurrence of given substrings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> (<em>str</em>) – String to sanitize</p></li>
<li><p><strong>char_list</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – Strings that should be replaced.</p></li>
<li><p><strong>replace</strong> (<em>str</em><em>, </em><em>default &quot;_&quot;</em>) – Replacement of substrings.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Sanitized string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.general.identify_columns">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.general.</span></span><span class="sig-name descname"><span class="pre">identify_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regex</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/general.html#identify_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.general.identify_columns" title="Link to this definition"></a></dt>
<dd><p>Get columns from pd.DataFrame that match the given regex.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – Pandas dataframe to be checked.</p></li>
<li><p><strong>regex</strong> (<em>Union</em><em>(</em><em>list</em><em>[</em><em>str</em><em>]</em><em>, </em><em>str</em><em>)</em>) – List of multiple regex or one regex as string.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of column names that match one of the provided regex.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.general.scale_values">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.general.</span></span><span class="sig-name descname"><span class="pre">scale_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">_NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">_SupportsArray</span><span class="p"><span class="pre">[</span></span><span class="pre">dtype</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">complex</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">_NestedSequence</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">complex</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">bytes</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mini</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxi</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">float</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">ndarray</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/general.html#scale_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.general.scale_values" title="Link to this definition"></a></dt>
<dd><p>Small utility to scale values in array to a given range.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>npt.ArrayLike</em>) – Array to scale.</p></li>
<li><p><strong>mini</strong> (<em>int</em><em> | </em><em>float</em>) – Minimum value of the scale.</p></li>
<li><p><strong>maxi</strong> (<em>int</em><em> | </em><em>float</em>) – Maximum value of the scale.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Scaled array values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

</section>
<hr class="docutils" />
<section id="module-sctoolbox.utils.io">
<span id="io"></span><h2>io<a class="headerlink" href="#module-sctoolbox.utils.io" title="Link to this heading"></a></h2>
<p>File input/output utilities.</p>
<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.io.create_dir">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.io.</span></span><span class="sig-name descname"><span class="pre">create_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/io.html#create_dir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.io.create_dir" title="Link to this definition"></a></dt>
<dd><p>Create a directory if it is not existing yet.</p>
<p>‘path’ can be either a direct path of the directory, or a path to a file for which the upper directory should be created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – Path to the directory to be created.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.io.get_temporary_filename">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.io.</span></span><span class="sig-name descname"><span class="pre">get_temporary_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tempdir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/io.html#get_temporary_filename"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.io.get_temporary_filename" title="Link to this definition"></a></dt>
<dd><p>Get a writeable temporary filename by creating a temporary file and closing it again.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>tempdir</strong> (<em>str</em><em>, </em><em>default &quot;.&quot;</em>) – The path where the temp file will be created.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Name of the temporary file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.io.remove_files">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.io.</span></span><span class="sig-name descname"><span class="pre">remove_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/io.html#remove_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.io.remove_files" title="Link to this definition"></a></dt>
<dd><p>Delete all files in a file list. Prints a warning if deletion was not possible.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>file_list</strong> (<em>list</em><em>[</em><em>str</em><em>]</em>) – List of files to delete.</p>
</dd>
</dl>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 0.4b: </span>This will be removed in 0.6. Use rm_tmp() with rm_dir=False.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="sctoolbox.utils.io.rm_tmp">
<span class="sig-prename descclassname"><span class="pre">sctoolbox.utils.io.</span></span><span class="sig-name descname"><span class="pre">rm_tmp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">temp_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">temp_files</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rm_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">all</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/sctoolbox/utils/io.html#rm_tmp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#sctoolbox.utils.io.rm_tmp" title="Link to this definition"></a></dt>
<dd><p>Delete given directory.</p>
<p>Removes all given <cite>temp_files</cite> from the directory. If <cite>temp_files</cite> is <cite>None</cite> and <cite>all</cite> is <cite>True</cite> all files are removed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>temp_dir</strong> (<em>Optional</em><em>[</em><em>list</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>default None</em>) – Path to the temporary directory.</p></li>
<li><p><strong>temp_files</strong> (<em>Optional</em><em>[</em><em>list</em><em>[</em><em>str</em><em>]</em><em>]</em><em>, </em><em>default None</em>) – Paths to files to be deleted before removing the temp directory.</p></li>
<li><p><strong>rm_dir</strong> (<em>bool</em><em>, </em><em>default False</em>) – If True, the temp directory is removed.</p></li>
<li><p><strong>all</strong> (<em>bool</em><em>, </em><em>default False</em>) – If True, all files in the temp directory are removed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="plotting.html" class="btn btn-neutral float-left" title="Plotting" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Loosolab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>